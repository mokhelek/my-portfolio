<!-- index.html -->
{% extends 'main_app/base.html' %}
{% load static %}
{% block content %}

<!-- ===== BRUTALISM: EVOLVED ===== -->
<link rel="stylesheet" href="{% static 'css/main.css' %}">

<!-- Fallback for no-JS -->
<noscript>
  <style>
    .js-only { display: none !important; }
  </style>
</noscript>

<!-- ACCESSIBLE SKIP LINK -->
<a class="skip-link" href="#project">Skip to projects</a>

<!-- GLOBAL BRUTAL OVERLAY (noise + grid + watermarks) -->
<div class="noise-overlay" aria-hidden="true"></div>
<div class="grid-overlay js-only on" id="gridOverlay" aria-hidden="true"></div>

<!-- CUSTOM PIXEL CURSOR -->
<div class="pixel-cursor js-only" id="pixelCursor" aria-hidden="true"></div>

<!-- COMMAND PALETTE (press /) -->
<div class="cmdk js-only" id="cmdk" aria-hidden="true">
  <div class="cmdk-inner">
    <input id="cmdkInput" type="text" placeholder="Type: projects, contact, skills..." aria-label="Command palette" />
    <ul id="cmdkList">
      <li data-href="#project">Go to Projects</li>
      <li data-href="#skills">Go to Skills</li>
      <li data-href="#about">Go to About</li>
      <li data-href="#contact">Go to Contact</li>
    </ul>
  </div>
</div>

<!-- TOP RIBBON -->
<div class="top-ribbon">
  <span class="badge">EXPERIMENTAL</span>
  <span class="marquee" aria-hidden="true">UNAPOLOGETIC BRUTALISM ‚Ä¢ HAND-CODED ‚Ä¢ NO TEMPLATES ‚Ä¢ DANGEROUSLY FAST ‚Ä¢ </span>
</div>

<!-- HEADER / NAV -->
<header class="brutal-header">
  <a class="logo" href="{% url 'main_app:homePage' %}">
    <span>MK</span><span class="dot">‚Ä¢</span><span class="outline">DEV</span>
  </a>
  <nav class="nav">
    <a href="#about">ABOUT</a>
    <a href="#skills">SKILLS</a>
    <a href="#project">PROJECTS</a>
    <a href="#contact" class="nav-cta">CONTACT</a>
  </nav>
</header>

<!-- HERO -->
<section id="brutal-hero" class="hero">
  <div class="hero-left">
    <div class="greeting">
      {% for text in texts %}
        <span class="greet-item">{{ text.greetings_text }}</span>
      {% endfor %}
    </div>

    <h1 class="hero-name">
      <span class="cut">MOKHELE</span>
      <span class="cut invert">KATLEHO</span>
    </h1>

    <div class="hero-title">
      <span class="mono">I BUILD</span>
      <div class="title-wrapper">
        <span class="title-main">BRUTALIST</span>
        <span class="title-sub">DIGITAL EXPERIENCES</span>
      </div>
    </div>

    <div class="hero-copy">
      {% for text in texts %}
        <p>{{ text.intro_text }}</p>
      {% endfor %}
    </div>

    <div class="cta-row">
      <a href="#project" class="btn btn-electric magnet">VIEW WORK</a>
      <a href="#contact" class="btn btn-wire">CONTACT</a>
      <a href="{% url 'projects_app:all_projects' %}" class="btn btn-black">ALL PROJECTS</a>
    </div>

    <!-- Brutalist floating elements -->
    <div class="brutal-elements">
      <div class="brutal-element be-1"></div>
      <div class="brutal-element be-2"></div>
      <div class="brutal-element be-3"></div>
    </div>
  </div>

  <div class="hero-right">
    <div class="frame">
      <div class="frame-inner">
        <img loading="lazy" src="{% static 'images/profile.jpg' %}" alt="Portrait of Mokhele Katleho" />
      </div>
      <span class="corner tl"></span>
      <span class="corner tr"></span>
      <span class="corner bl"></span>
      <span class="corner br"></span>
    </div>
    <div class="shapes">
      <div class="blk blk-1"></div>
      <div class="blk blk-2"></div>
      <div class="blk blk-3"></div>
    </div>
  </div>

  <div class="scroll-indicator">
    <span class="scroll-line"></span>
    <span class="scroll-text">SCROLL</span>
  </div>
</section>

<!-- ABOUT -->
<section id="about" class="section about">
  <header class="section-head">
    <h2><span class="num">01.</span> WHO AM I? <span class="label">DEVELOPER</span></h2>
    <div class="underline"></div>
    <p class="sub">Building digital experiences with purpose and velocity.</p>
  </header>

  <div class="about-grid">
    <article class="card">
      {% for text in texts %}
        <p class="big">{{ text.about_text }}</p>
      {% endfor %}
      <div class="stamp">NO-FRILLS ‚Ä¢ REAL CODE</div>
    </article>
    <aside class="id-card">
      <div class="id-top">
        <div class="dot-grid" aria-hidden="true"></div>
        <div class="nameplate">
          <strong>MOKHELE KATLEHO</strong>
          <span>Software Engineer</span>
        </div>
      </div>
      <ul class="facts">
        <li>‚ö° React / Django / Data Viz</li>
        <li>üß™ Rapid prototyping, zero fluff</li>
        <li>üõ†Ô∏è CI/CD ‚Ä¢ Docker ‚Ä¢ GitHub</li>
        <li>üåç Remote-friendly</li>
      </ul>
      <div class="id-bottom">
        <span class="chip">AVAILABLE</span>
        <span class="chip alt">FREELANCE</span>
      </div>
    </aside>
  </div>
</section>

<!-- SKILLS -->
<section id="skills" class="section skills">
  <header class="section-head">
    <h2><span class="num">02.</span> Technical Skills</h2>
    <div class="underline"></div>
    <p class="sub">Tools that turn ideas into shipped product.</p>
  </header>

  <!-- Decorative brutalist stickers -->
  <div class="skills-stickers js-only" aria-hidden="true">
    <span class="sticker s1">FAST</span>
    <span class="sticker s2">REAL</span>
  </div>

  <!-- Brutalist ticker -->
  <div class="skills-ticker js-only" aria-hidden="true">
    <span>FRONTEND ‚Ä¢ BACKEND ‚Ä¢ TOOLING ‚Ä¢ PERFORMANCE ‚Ä¢ ACCESSIBILITY ‚Ä¢ UX ENGINEERING ‚Ä¢ </span>
  </div>

  <!-- Meta chips -->
  <div class="skills-meta">
    <span class="chip">v2025 STACK</span>
    <span class="chip alt">HANDS-ON</span>
    <span class="chip">NO-FRILLS</span>
  </div>
<br>
  <div class="skills-board">
    <article class="skill-col c1">
      <h3>FRONTEND</h3>
      <div class="card-meta">
        <span class="chip">UI/UX</span>
        <span class="chip alt">Animations</span>
        <span class="chip">A11y</span>
      </div>
      <ul class="tags">
        <li class="tag"><img src="{% static 'images/skills/html-5.png' %}" alt="HTML" /><span>HTML5</span></li>
        <li class="tag"><img src="{% static 'images/skills/css-3.png' %}" alt="CSS" /><span>CSS3</span></li>
        <li class="tag"><img src="{% static 'images/skills/js.png' %}" alt="JavaScript" /><span>JavaScript</span></li>
        <li class="tag"><img src="{% static 'images/skills/bootstrap.png' %}" alt="Bootstrap" /><span>Bootstrap</span></li>
        <li class="tag"><img src="{% static 'images/skills/Tailwind_CSS_Logo.svg.png' %}" alt="Tailwind" /><span>Tailwind</span></li>
      </ul>
    </article>

    <article class="skill-col c2">
      <h3>BACKEND</h3>
      <div class="card-meta">
        <span class="chip">APIs</span>
        <span class="chip alt">Auth</span>
        <span class="chip">Caching</span>
      </div>
      <ul class="tags">
        <li class="tag"><img src="{% static 'images/skills/python.png' %}" alt="Python" /><span>Python</span></li>
        <li class="tag"><img src="{% static 'images/skills/django.png' %}" alt="Django" /><span>Django</span></li>
      </ul>
    </article>

    <article class="skill-col c3">
      <h3>TOOLS</h3>
      <div class="card-meta">
        <span class="chip">DevOps</span>
        <span class="chip alt">CI/CD</span>
        <span class="chip">Collab</span>
      </div>
      <ul class="tags">
        <li class="tag"><img src="{% static 'images/skills/docker.png' %}" alt="Docker" /><span>Docker</span></li>
        <li class="tag"><img src="{% static 'images/skills/heroku.png' %}" alt="Heroku" /><span>Heroku</span></li>
        <li class="tag"><img src="{% static 'images/skills/github-sign.png' %}" alt="GitHub" /><span>GitHub</span></li>
        <li class="tag"><img src="{% static 'images/skills/atom.png' %}" alt="Atom" /><span>Atom</span></li>
      </ul>
    </article>
  </div>
</section>

<!-- PROJECTS -->
<section id="project" class="section projects">
  <header class="section-head">
    <h2><span class="num">03.</span> Featured Projects</h2>
    <div class="underline"></div>
    <p class="sub">Selected builds. High signal, zero filler.</p>
  </header>

  <div class="projects-grid">
    {% for project in projects %}
    <article class="project-card" data-project="{{ forloop.counter }}">
      <a class="thumb" href="{{ project.live }}" target="_blank" rel="noopener" aria-label="Open {{ project.title }} live">
        <img loading="lazy" src="{{ project.thumbnail.url }}" alt="{{ project.title }}">
        <span class="index">#{{ forloop.counter|stringformat:"02d" }}</span>
      </a>

      <div class="body">
        <div class="head">
          <h3><a href="{{ project.live }}" target="_blank" rel="noopener">{{ project.title }}</a></h3>
          <div class="actions">
            {% if project.live %}
            <a class="ico" href="{{ project.live }}" target="_blank" rel="noopener" title="Live" aria-label="Open live">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                <polyline points="15,3 21,3 21,9"></polyline>
                <line x1="10" y1="14" x2="21" y2="3"></line>
              </svg>
            </a>
            {% endif %}
            {% if project.github %}
            <a class="ico" href="{{ project.github }}" target="_blank" rel="noopener" title="Code" aria-label="Open code">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-1.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
              </svg>
            </a>
            {% endif %}
          </div>
        </div>

        <div class="tags-row">
          {% for tag in project.tags.all %}
            <span class="project-tag">{{ tag.name }}</span>
          {% endfor %}
        </div>

        <div class="desc">
          <div class="preview" id="desc-preview-{{ project.id }}">
            <p>{{ project.description|safe|truncatechars:"130" }}</p>
          </div>
          <div class="expanded" id="desc-full-{{ project.id }}" hidden>
            <div class="full">
              {{ project.description|safe }}
              {% if project.demoUsername %}
              <div class="demo">
                <h4>Demo Credentials</h4>
                <div class="row">
                  <div><span>Username:</span><code>{{ project.demoUsername }}</code></div>
                  <div><span>Password:</span><code>{{ project.demoPassword }}</code></div>
                </div>
              </div>
              {% endif %}
            </div>
          </div>
          <button class="toggle" id="expand-{{ project.id }}" data-id="{{ project.id }}">Read More</button>
        </div>
      </div>
    </article>
    {% endfor %}
  </div>

  <footer class="projects-cta">
    <h3>Want the full archive?</h3>
    <a href="{% url 'projects_app:all_projects' %}" class="btn btn-wire">VIEW ALL PROJECTS</a>
  </footer>
</section>

<!-- CONTACT -->
<section id="contact" class="section contact">
  <header class="section-head">
    <h2><span class="num">04.</span> Let's build something <span class="x">wild</span> together</h2>
    <div class="underline"></div>
    <p class="sub">Briefs. Prototypes. Production. Your move.</p>
  </header>

  <div class="contact-grid">
    <aside class="contact-card">
      <div class="availability">
        <div class="scrollline" aria-live="polite">
          <span>AVAILABLE FOR FREELANCE ‚Ä¢ REMOTE-FRIENDLY ‚Ä¢ LET'S COLLAB ‚Ä¢ </span>
        </div>
        <button class="copy chip" type="button" data-copy="mkatleho191@gmail.com" aria-label="Copy email">
          <span class="copy-text" data-default="COPY EMAIL">COPY EMAIL</span>
        </button>
      </div>

      <p class="pitch">
        Ready to ship something memorable? New project, collab, or just nerding out‚Äîsay hi.
      </p>

      <div class="socials">
        <a href="https://www.linkedin.com/in/mokhele-katleho" target="_blank" rel="noopener">LinkedIn<span class="badge">PRO</span></a>
        <a href="https://twitter.com/Mokhele_k" target="_blank" rel="noopener">Twitter<span class="badge">POST</span></a>
        <a href="https://github.com/mokhelek" target="_blank" rel="noopener">GitHub<span class="badge">CODE</span></a>
        <a href="https://wa.me/27680846150" target="_blank" rel="noopener">WhatsApp<span class="badge">CHAT</span></a>
      </div>
    </aside>

    <div class="form-wrap">
      {% if messages %}
      <div class="alert-wrap">
        {% for message in messages %}
          <div class="alert error">‚ö† {{ message }}</div>
        {% endfor %}
      </div>
      {% endif %}

      <form class="form" action="{% url 'main_app:sendEmail' %}" method="POST" novalidate>
        {% csrf_token %}
        <div class="grid">
          <label class="fld">
            <span>YOUR NAME</span>
            <input type="text" name="name" placeholder="Full name" required>
          </label>
          <label class="fld">
            <span>EMAIL ADDRESS</span>
            <input type="email" name="email" placeholder="email@domain.com" required>
          </label>
          <label class="fld full">
            <span>YOUR MESSAGE</span>
            <textarea name="message" rows="6" placeholder="Tell me about your project..." required></textarea>
          </label>
          <div class="submit">
            <button type="submit" class="btn btn-electric magnet">SEND MESSAGE</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</section>

<!-- FLOATING BACK-TO-TOP -->
<a href="{% url 'main_app:homePage' %}#brutal-hero" class="fab" aria-label="Back to top" title="Back to top">
  <span class="fab-label">BACK TO TOP</span>
  <div class="fab-btn">‚Üë</div>
</a>

<!-- FOOTER -->
<footer class="footer">
  <p>¬© {{ now|date:"Y" }} Mokhele Katleho ‚Äî Brutal & Proud</p>
  <p class="tiny">Press <kbd>/</kbd> for Command Palette ¬∑ <kbd>G</kbd> for Grid</p>
</footer>

<script src="{% static 'js/main.js' %}"></script>
{% endblock content %}